{% extends "base.html" %}

{% block title %}Update Gallery Item{% endblock %}

{% block content %}
<section class="mb-16 max-w-xl mx-auto">
    <h1 class="text-3xl font-bold mb-6">Update Gallery Item</h1>
    
    <form method="POST" class="bg-white p-6 rounded-lg shadow-lg space-y-4">
        <div>
            <label for="serial_number" class="block text-gray-700 mb-2">Serial Number</label>
            <input type="number" id="serial_number" name="serial_number"
                   class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                   placeholder="Enter serial number (optional)"
                   value="{{ item.serial_number or '' }}">
        </div>
        <div>
            <label for="media_type" class="block text-gray-700 mb-2">Media Type</label>
            <select id="media_type" name="media_type" required
                    class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                <option value="image" {% if item.media_type == 'image' %}selected{% endif %}>Image</option>
                <option value="youtube" {% if item.media_type == 'youtube' %}selected{% endif %}>YouTube Video</option>
            </select>
        </div>
        <div>
            <label for="media_url" class="block text-gray-700 mb-2">Media URL</label>
            <input type="text" id="media_url" name="media_url" required
                   class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                   placeholder="For YouTube, use https://youtu.be/... format"
                   value="{{ item.media_url }}">
        </div>
        <div>
            <label for="caption" class="block text-gray-700 mb-2">Caption</label>
            <input type="text" id="caption" name="caption"
                   class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                   value="{{ item.caption }}">
        </div>
        <div>
            <label for="is_available" class="inline-flex items-center mt-2">
                <input type="checkbox" id="is_available" name="is_available" 
                       class="form-checkbox h-5 w-5 text-blue-600"
                       {% if item.is_available %}checked{% endif %}>
                <span class="ml-2 text-gray-700">Available</span>
            </label>
        </div>
        <div class="flex space-x-4">
            <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                Update Item
            </button>
            <a href="{{ url_for('manage_gallery') }}" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded">
                Cancel
            </a>
        </div>
    </form>
</section>
{% endblock %}
